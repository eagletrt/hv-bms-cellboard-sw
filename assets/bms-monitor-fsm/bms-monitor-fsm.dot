digraph "fsm" {
    bgcolor="white"
    layout="dot"
    center=true
    concentrate=false
    // splines="ortho"

    /* Main operations */
    init
    write_configuration
    read_configuration

    /* Read voltages */
    start_volt_conversion
    poll_volt_status
    read_voltage

    /* Read temperatures */
    start_temp_conversion
    poll_temp_status
    read_temperature
    
    /* Initialization */
    init -> write_configuration

    /* Main operations */
    write_configuration -> read_configuration
    write_configuration -> start_volt_conversion
    write_configuration -> start_temp_conversion

    read_configuration -> write_configuration
    read_configuration -> start_volt_conversion
    read_configuration -> start_temp_conversion

    /* Read voltages */
    start_volt_conversion -> poll_volt_status
    start_volt_conversion -> write_configuration

    poll_volt_status -> poll_volt_status
    poll_volt_status -> read_voltage
    poll_volt_status -> write_configuration

    read_voltage -> read_voltage
    read_voltage -> write_configuration

    /* Read temperatures */
    start_temp_conversion -> poll_temp_status
    start_temp_conversion -> write_configuration

    poll_temp_status -> poll_temp_status
    poll_temp_status -> read_temperature
    poll_temp_status -> write_configuration

    read_temperature -> read_temperature
    read_temperature -> write_configuration
}
